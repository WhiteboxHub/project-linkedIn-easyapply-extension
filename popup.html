<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>LinkedIn EasyApply</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root {
      --bg-gradient: linear-gradient(180deg, #1b6a8c 0%, #158578 100%);
      --card-bg: rgba(255, 255, 255, 0.1);
      --input-bg: rgba(255, 255, 255, 0.2);
      --text-color: #ffffff;
      --accent-green: #2ecc71;
      /* Bright green button */
      --accent-hover: #27ae60;
    }

    * {
      box-sizing: border-box;
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      margin: 0;
      padding: 0;
      width: 400px;
      /* Slightly wider for the table view */
      background: var(--bg-gradient);
      color: var(--text-color);
    }

    .wrap {
      padding: 16px;
    }

    /* Section Headers */
    .section-title {
      font-weight: 700;
      font-size: 14px;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .section-title svg {
      width: 16px;
      height: 16px;
    }

    /* Inputs Row */
    .row {
      display: flex;
      gap: 10px;
      margin-bottom: 12px;
    }

    .col {
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    input,
    select {
      padding: 10px;
      border-radius: 6px;
      border: 1px solid rgba(255, 255, 255, 0.3);
      background: var(--input-bg);
      color: white;
      font-size: 13px;
      outline: none;
    }

    input::placeholder {
      color: rgba(255, 255, 255, 0.7);
    }

    select option {
      background: #1b6a8c;
      color: white;
    }

    /* Action Buttons */
    .btn {
      padding: 10px;
      border-radius: 6px;
      border: none;
      font-weight: 600;
      cursor: pointer;
      font-size: 13px;
      width: 100%;
      transition: opacity 0.2s;
    }

    .btn-green {
      background: var(--accent-green);
      color: white;
      font-size: 15px;
      /* Bigger execution button */
      padding: 12px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .btn-green:hover {
      background: var(--accent-hover);
    }

    .btn-outline {
      background: transparent;
      border: 1px solid rgba(255, 255, 255, 0.4);
      color: white;
    }

    .btn-outline:hover {
      background: rgba(255, 255, 255, 0.1);
    }

    /* Jobs List Panel */
    .jobs-panel {
      background: rgba(0, 0, 0, 0.2);
      border-radius: 8px;
      margin-bottom: 16px;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .jobs-header {
      padding: 8px 12px;
      background: rgba(255, 255, 255, 0.1);
      font-size: 12px;
      font-weight: 700;
      color: var(--accent-green);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .jobs-list {
      max-height: 250px;
      overflow-y: auto;
    }

    .job-row {
      display: flex;
      align-items: center;
      padding: 8px 12px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
      gap: 10px;
    }

    .job-row:last-child {
      border-bottom: none;
    }

    .job-check {
      transform: scale(1.2);
      cursor: pointer;
    }

    .job-info {
      flex: 1;
    }

    .job-title {
      font-size: 13px;
      font-weight: 600;
      line-height: 1.2;
    }

    .job-meta {
      font-size: 11px;
      opacity: 0.8;
      margin-top: 2px;
    }

    /* Scrollbar */
    .jobs-list::-webkit-scrollbar {
      width: 6px;
    }

    .jobs-list::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.3);
      border-radius: 3px;
    }

    .status-bar {
      margin-top: 10px;
      font-size: 12px;
      text-align: center;
      color: rgba(255, 255, 255, 0.8);
      min-height: 18px;
    }

    /* Helper classes */
    .hidden {
      display: none;
    }
  </style>
</head>

<body>
  <div class="wrap">

    <!-- 1. Search / Fetch Section -->
    <div class="section-title">
      <svg viewBox="0 0 24 24" fill="none" class="feather">
        <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2" />
        <line x1="21" y1="21" x2="16.65" y2="16.65" stroke="currentColor" stroke-width="2" />
      </svg>
      Job Search
    </div>

    <div class="row">
      <input type="text" id="keyword" placeholder="Job Title (e.g. React Developer)" class="col" />
    </div>
    <div class="row">
      <input type="text" id="location" placeholder="Location (e.g. India)" value="India" class="col" />
      <select class="col" id="quickSelect" style="max-width: 120px;">
        <option value="">Quick Select</option>
        <option value="Worldwide">Worldwide</option>
        <option value="United States">USA</option>
        <option value="India">India</option>
        <option value="Remote">Remote</option>
      </select>
    </div>
    <div class="row">
      <button id="fetchBtn" class="btn btn-outline"
        style="background: rgba(23, 162, 184, 0.4); border-color: #17a2b8;">üîç Search & Fetch Jobs</button>
      <button id="stopFetchBtn" class="btn btn-outline hidden"
        style="background: rgba(220, 53, 69, 0.4); border-color: #dc3545;">‚úã Stop Fetching</button>
    </div>

    <!-- 2. Configuration Section -->
    <div class="section-title" style="margin-top: 16px;">
      <svg viewBox="0 0 24 24" fill="none">
        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" stroke="currentColor" stroke-width="2" />
        <circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="2" />
      </svg>
      Configuration
    </div>
    <div class="row">
      <select id="candidateSelect" class="col">
        <option value="">Select Candidate</option>
      </select>
      <select id="employeeSelect" class="col">
        <option value="">Select Employee</option>
      </select>
    </div>

    <!-- 3. Jobs List & Verify -->
    <div class="jobs-panel">
      <div class="jobs-header">
        <span id="jobsCount">0 Jobs Found! Verify below:</span>
        <div><input type="checkbox" id="selectAll" checked title="Select All" /> All</div>
      </div>
      <div class="jobs-list" id="jobsList">
        <div style="padding: 12px; text-align: center; color: rgba(255,255,255,0.6); font-size: 12px;">
          Use "Search & Fetch" above to find jobs,<br />or I'll utilize <code>easyapply_today.json</code> by default.
        </div>
      </div>
    </div>

    <!-- 4. Execution -->
    <button id="startApplyBtn" class="btn btn-green">
      Step 2: Start Applying
    </button>

    <div class="status-bar" id="statusText">Ready</div>
  </div>

  <script src="popup.js"></script>
</body>

</html>